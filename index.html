
<!doctype html>
<html lang="en">
<head>
    <title>Bid Multipliers [Alpha UI]</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.css"
          integrity="sha256-p6xU9YulB7E2Ic62/PX+h59ayb3PBJ0WFTEQxq0EjHw=" crossorigin="anonymous"/>
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <style>
        .setup-group {
            position: relative;
            border: 1px solid #ccc;
            padding: 8px 28px;
            border-radius: 18px;
            margin-bottom: 28px;
        }
        .setup-group input[type="checkbox"] {
            position: absolute;
            left: -20px;
            top: 0px;
            zoom: 1.8;
        }
        .setup-group-disabled {
            opacity: 0.5;
        }
        .slider-value {
            border:0;
            color:#f6931f;
            font-weight:bold;
        }
        .country-entry {
            margin: 28px 0px;
        }
    </style>
    <script>
        $(function () {
            $("#android-range").slider({
                range: false,
                min: 0.09,
                max: 1.0,
                step: .01,
                values: [1.0],
                slide: function (event, ui) {
                    $("#android-input").val(ui.values[0]);
                }
            });
            $("#android-input").val($("#android-range").slider("values", 0));

            $("#ios-range").slider({
                range: false,
                min: 0.09,
                max: 1.0,
                step: .01,
                values: [1.0],
                slide: function (event, ui) {
                    $("#ios-input").val(ui.values[0]);
                }
            });
            $("#ios-input").val($("#ios-range").slider("values", 0));

            $("#os-default-range").slider({
                range: false,
                min: 0.09,
                max: 1.0,
                step: .01,
                values: [1.0],
                slide: function (event, ui) {
                    $("#os-default-input").val(ui.values[0]);
                }
            });
            $("#os-default-input").val($("#os-default-range").slider("values", 0));

            $("#gender-male-range").slider({
                range: false,
                min: 0.09,
                max: 1.0,
                step: .01,
                values: [1.0],
                slide: function (event, ui) {
                    $("#gender-male-input").val(ui.values[0]);
                }
            });
            $("#gender-male-input").val($("#gender-male-range").slider("values", 0));

            $("#gender-female-range").slider({
                range: false,
                min: 0.09,
                max: 1.0,
                step: .01,
                values: [1.0],
                slide: function (event, ui) {
                    $("#gender-female-input").val(ui.values[0]);
                }
            });
            $("#gender-female-input").val($("#gender-female-range").slider("values", 0));


            $("#gender-default-range").slider({
                range: false,
                min: 0.09,
                max: 1.0,
                step: .01,
                values: [1.0],
                slide: function (event, ui) {
                    $("#gender-default-input").val(ui.values[0]);
                }
            });
            $("#gender-default-input").val($("#gender-default-range").slider("values", 0))

            $("#age-one-range").slider({
                range: false,
                min: 0.09,
                max: 1.0,
                step: .01,
                values: [1.0],
                slide: function (event, ui) {
                    $("#age-one-input").val(ui.values[0]);
                }
            });
            $("#age-one-input").val($("#age-one-range").slider("values", 0));

            $("#age-two-range").slider({
                range: false,
                min: 0.09,
                max: 1.0,
                step: .01,
                values: [1.0],
                slide: function (event, ui) {
                    $("#age-two-input").val(ui.values[0]);
                }
            });
            $("#age-two-input").val($("#age-two-range").slider("values", 0));

            $("#age-default-range").slider({
                range: false,
                min: 0.09,
                max: 1.0,
                step: .01,
                values: [1.0],
                slide: function (event, ui) {
                    $("#age-default-input").val(ui.values[0]);
                }
            });
            $("#age-default-input").val($("#age-default-range").slider("values", 0));
        });
    </script>
    <script>
        !function (f, b, e, v, n, t, s) {
            if (f.fbq) return;
            n = f.fbq = function () {
                n.callMethod ?
                    n.callMethod.apply(n, arguments) : n.queue.push(arguments)
            };
            if (!f._fbq) f._fbq = n;
            n.push = n;
            n.loaded = !0;
            n.version = '2.0';
            n.queue = [];
            t = b.createElement(e);
            t.async = !0;
            t.src = v;
            s = b.getElementsByTagName(e)[0];
            s.parentNode.insertBefore(t, s)
        }(window, document, 'script',
            'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', '624875111674693');
        fbq('track', 'PageView');
    </script>
</head>
<body>
<div class="container">
    <h1 style="padding-top: 2rem; padding-bottom: 0.5rem;">[ALPHA-UI] Bid Multiplier Tool</h1>
    <form>

        <div class="form-group">
            <label for="ad-set-id-input">Ad Set ID</label>
            <input type="text" class="form-control" id="ad-set-id-input" aria-describedby="ad-set-id-input-help"
                   placeholder="">
            <small id="ad-set-id-input-help" class="form-text text-muted">
                Ad set must be using conversion optimization.
            </small>
        </div>

        <div class="form-group">
            <label for="access-token-input">Access Token</label>
            <input type="text" class="form-control" id="access-token-input" aria-describedby="access-token-input-help"
                   placeholder="">
            <small id="access-token-input-help" class="form-text text-muted">
                See instructions for obtaining an access token.
            </small>
        </div>

        <div class="setup-group setup-group-disabled">
            <input type="checkbox" id="device-checkbox" />
            <h5 style="padding-top: 2rem; padding-bottom: 0.5rem;">Impression Device OS</h1>

            <div class="form-group">
                <p>
                    <label for="ios-input" aria-describedby="android-input-help">Android:&nbsp;</label>
                    <input type="text" id="android-input" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>
                <div id="android-range"></div>
            </div>

            <div class="form-group">
                <p>
                    <label for="ios-input" aria-describedby="ios-input-help">iOS:&nbsp;</label>
                    <input type="text" id="ios-input" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>
                <div id="ios-range"></div>
            </div>

            <div class="form-group">
                <p>
                    <label for="os-default-input" aria-describedby="os-default-help">Default:&nbsp;</label>
                    <input type="text" id="os-default-input" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>
                <div id="os-default-range"></div>
            </div>
        </div>

        <div class="setup-group setup-group-disabled">
            <input type="checkbox" id="gender-checkbox" />
            <h5 style="padding-top: 2rem; padding-bottom: 0.5rem;">Gender</h1>

            <div class="form-group">
                <p>
                    <label for="gender-male-input" aria-describedby="gender-male-help">Male:&nbsp;</label>
                    <input type="text" id="gender-male-input" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>
                <div id="gender-male-range"></div>
            </div>

            <div class="form-group">
                <p>
                    <label for="gender-female-input" aria-describedby="gender-female-help">Female:&nbsp;</label>
                    <input type="text" id="gender-female-input" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>
                <div id="gender-female-range"></div>
            </div>

            <div class="form-group">
                <p>
                    <label for="gender-default-input" aria-describedby="gender-default-help">Default:&nbsp;</label>
                    <input type="text" id="gender-default-input" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>
                <div id="gender-default-range"></div>
            </div>
        </div>

        <div class="setup-group setup-group-disabled">
            <input type="checkbox" id="age-checkbox" />
            <h5 style="padding-top: 2rem; padding-bottom: 0.5rem;">Age</h1>

            <div class="form-group">
                <p>
                    <input type="number" value="18" id="age-one-start"> to <input type="number" value="25" id="age-one-end">:
                    <input type="text" id="age-one-input" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>
                <div id="age-one-range"></div>
            </div>

            <div class="form-group">
                <p>
                    <input type="number" value="30" id="age-two-start"> to <input type="number" value="35" id="age-two-end">:
                    <input type="text" id="age-two-input" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>
                <div id="age-two-range"></div>
            </div>

            <div class="form-group">
                <p>
                    <label for="age-default-input" aria-describedby="age-default-help">Default:&nbsp;</label>
                    <input type="text" id="age-default-input" readonly style="border:0; color:#f6931f; font-weight:bold;">
                </p>
                <div id="age-default-range"></div>
            </div>
        </div>

        <div class="setup-group setup-group-disabled">
            <input type="checkbox" id="country-checkbox" />
            <h5 style="padding-top: 2rem; padding-bottom: 0.5rem;">Country</h1>

            <div class="form-group">
                <button type="button" id="add-country-button">+ Country</button>
            </div>
        </div>

        <div class="setup-group setup-group-disabled">
            <input type="checkbox" id="user-device-checkbox" />
            <h5 style="padding-top: 2rem; padding-bottom: 0.5rem;">User Device</h1>

            <div class="form-group">
                <button type="button" id="add-device-button">+ Device</button>
            </div>
        </div>

        <button type="button" id="submit-button" class="btn btn-primary">Submit</button>
        <br/>
        <br/>

        <div id="alert-text-box" class="alert alert-success alert-dismissible fade show" role="alert"
             style="display: none;">
            <span id="alert-text"></span>
            <button type="button" class="close" onclick="$('#alert-text-box').hide();">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    </form>
</div>

<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<script>
    var availableDevices = [ "iPad", "iPhone", "iPod", "apple ipad mini 5th gen (wi-fi only)", "ipad", "ipad 1", "ipad 10.2 (2021)", "ipad 2", "ipad 3rd gen", "ipad 4th gen", "ipad 5th gen", "ipad 6th gen", "ipad 7th gen", "ipad 8th gen", "ipad 9.7", "ipad air", "ipad air 2", "ipad air 3rd gen (wi-fi only)", "ipad air 4th gen", "ipad mini", "ipad mini 2", "ipad mini 3", "ipad mini 4", "ipad pro", "ipad pro 11", "ipad pro 11 (2021)", "ipad pro 12.9 (2021)", "ipad pro 2nd gen", "ipad pro 3rd gen", "iphone", "iphone 11", "iphone 11 pro", "iphone 11 pro max", "iphone 12", "iphone 12 mini", "iphone 12 pro", "iphone 12 pro max", "iphone 13", "iphone 13 mini", "iphone 13 pro", "iphone 13 pro max", "iphone 3gs", "iphone 4", "iphone 4s", "iphone 5", "iphone 5c", "iphone 5s", "iphone 6", "iphone 6 plus", "iphone 6s", "iphone 6s plus", "iphone 7", "iphone 7 plus", "iphone 8", "iphone 8 plus", "iphone se", "iphone se 2020", "iphone x", "iphone xr", "iphone xs", "iphone xs max", "ipod", "ipod touch 1st generation", "ipod touch 2nd generation", "ipod touch 3rd generation", "ipod touch 4th generation", "ipod touch 5th generation", "ipod touch 6th generation", "530", "lumia 520", "lumia 535", "lumia 630", "lumia 635", "lumia 640 lte", "lumia 920", "lumia 950", "microsoft", "nokia", "philips", "Android_Smartphone", "Android_Tablet", "1", "1 (2021)", "10", "11 lite 5g ne", "11t", "1201", "1603", "2", "2.1", "2.2", "2.3", "2.4", "3", "3.1", "3.1 plus", "5", "5.1 plus", "5060", "5t", "6", "6.1", "6.1 plus", "6t", "7", "7 pro", "7t", "8", "8a dual", "8a pro", "8t", "9r", "a1000", "a11", "a12", "a14", "a15", "a15s", "a16", "a16 plus", "a16k", "a1k", "a20", "a2010", "a31", "a32f", "a33", "a36", "a369i", "a37", "a39", "a3s", "a48", "a5", "a5 (2020)", "a5000", "a52", "a53", "a536", "a53s", "a54", "a55", "a56", "a57", "a59", "a5s", "a6000", "a6010", "a6600", "a7", "a7000", "a71", "a71 (2018)", "a74", "a74 5g", "a83", "a9 (2020)", "a92", "a93", "a94", "a95", "advan", "alcatel", "allure a8", "amazon", "andromax a", "andromax es", "aquos crystal", "aquos crystal x", "aquos ever", "aquos phone serie shl22", "aquos phone serie shl23", "aquos phone xx mini", "aquos phone zeta sh-02e", "aquos xx", "aristo", "aristo 2", "aristo 3", "ascend g610", "ascend g620s", "ascend g7", "ascend g730", "ascend p7", "ascend y221", "ascend y330", "ascend y336", "ascend y360", "ascend y520", "ascend y530", "ascend y550", "ascend y560", "ascend y600", "ascend y625", "ascend y635", "asus", "ax7", "bharat 2 plus", "blackberry", "blade a3 2020", "blade a5 (2020)", "blade l130", "blade l2", "blade l210", "blade l5", "blade l8", "blade v10 vita", "blade z max", "c1", "c2", "camon 12", "camon 12 air", "camon 15", "camon 16", "camon 17", "camon c11", "camon c8", "camon i", "condor", "desire 510", "desire 526g", "desire 530", "desire 620g", "desire 626", "desire 626s", "desire 728", "desire 816", "desire 820", "desire 820g+", "docomo", "droid maxx", "droid mini", "droid razr", "droid razr 4g", "droid razr hd", "droid razr m", "droid turbo", "droid turbo 2", "escape plus", "f1", "f1 plus", "f103 pro", "f11", "f11 pro", "f15", "f17", "f17 pro", "f19 pro", "f19 pro+ 5g", "f19s", "f1s", "f3", "f3 plus", "f5", "f5 youth", "f7", "f9", "fire", "fire hd 10 (2017)", "fire hd 10 (2019)", "fire hd 8 (2017)", "fire hd 8 (2018)", "fortune", "g play mini", "g pro lite", "g pure", "g stylo", "g2", "g2 mini", "g3", "g3 a", "g3 beat", "g3 mini", "g3 prime", "g3 s", "g3 stylus", "g3 vigor", "g4", "g4 beat", "g4 stylus", "g4c", "g5", "g6", "g7 thinq", "g8", "galaxy a01", "galaxy a01 core", "galaxy a02", "galaxy a02s", "galaxy a03", "galaxy a03 core", "galaxy a03s", "galaxy a10", "galaxy a10e", "galaxy a10s", "galaxy a11", "galaxy a12", "galaxy a12 nacho", "galaxy a2 core", "galaxy a20", "galaxy a20e", "galaxy a20s", "galaxy a21", "galaxy a21s", "galaxy a22", "galaxy a22 5g", "galaxy a3", "galaxy a3 (2016)", "galaxy a3 (2017)", "galaxy a30", "galaxy a30s", "galaxy a31", "galaxy a32", "galaxy a32 5g", "galaxy a40", "galaxy a41", "galaxy a42 5g", "galaxy a5", "galaxy a5 (2016)", "galaxy a5 (2017)", "galaxy a50", "galaxy a50s", "galaxy a51", "galaxy a51 5g", "galaxy a52", "galaxy a52 5g", "galaxy a52s 5g", "galaxy a6", "galaxy a6 (2018)", "galaxy a6+", "galaxy a6+ (2018)", "galaxy a7", "galaxy a7 (2016)", "galaxy a7 (2017)", "galaxy a7 (2018)", "galaxy a70", "galaxy a71", "galaxy a71 5g", "galaxy a72", "galaxy a8", "galaxy a8 (2018)", "galaxy a8+ (2018)", "galaxy a80", "galaxy a9 (2018)", "galaxy a9 pro (2016)", "galaxy ace", "galaxy ace 2", "galaxy ace 3", "galaxy ace 4", "galaxy ace 4 duos", "galaxy ace 4 lite duos", "galaxy ace 4 neo", "galaxy ace duos", "galaxy ace nxt", "galaxy ace plus", "galaxy ace style", "galaxy alpha", "galaxy avant", "galaxy c7 pro", "galaxy c9 pro", "galaxy centura", "galaxy chat", "galaxy core", "galaxy core 2", "galaxy core 2 duos", "galaxy core plus", "galaxy core prime", "galaxy core prime duos", "galaxy e5", "galaxy e7", "galaxy exhibit", "galaxy f41", "galaxy fame", "galaxy fame lite", "galaxy fame lite duos", "galaxy gran neo duos", "galaxy grand", "galaxy grand 2", "galaxy grand 2 duos", "galaxy grand max", "galaxy grand neo", "galaxy grand prime", "galaxy grand prime plus", "galaxy grand quattro", "galaxy j1", "galaxy j1 (2016)", "galaxy j1 ace", "galaxy j1 mini", "galaxy j1 mini prime", "galaxy j2", "galaxy j2 (2016)", "galaxy j2 (2017)", "galaxy j2 (2018)", "galaxy j2 core", "galaxy j2 prime", "galaxy j3", "galaxy j3 (2016)", "galaxy j3 (2017)", "galaxy j3 (2018)", "galaxy j3 emerge", "galaxy j3 luna pro", "galaxy j3 orbit", "galaxy j3 prime", "galaxy j3 prime (2017)", "galaxy j3 pro", "galaxy j4 (2018)", "galaxy j4 core", "galaxy j4+", "galaxy j5", "galaxy j5 (2016)", "galaxy j5 (2017)", "galaxy j5 prime", "galaxy j5 pro", "galaxy j6", "galaxy j6+", "galaxy j7", "galaxy j7 (2016)", "galaxy j7 (2017)", "galaxy j7 (2018)", "galaxy j7 core", "galaxy j7 crown", "galaxy j7 duo", "galaxy j7 max", "galaxy j7 neo", "galaxy j7 nxt", "galaxy j7 prime", "galaxy j7 prime 2", "galaxy j7 pro", "galaxy j7 refine", "galaxy j7+", "galaxy j8", "galaxy light", "galaxy m01", "galaxy m01 core", "galaxy m01s", "galaxy m02", "galaxy m02s", "galaxy m10", "galaxy m11", "galaxy m12", "galaxy m20", "galaxy m21", "galaxy m30", "galaxy m30s", "galaxy m31", "galaxy m31s", "galaxy m32", "galaxy m51", "galaxy mega 2", "galaxy mega 5.8", "galaxy mega 6.3", "galaxy mini", "galaxy mini 2", "galaxy note", "galaxy note 10", "galaxy note 10 lite", "galaxy note 10+", "galaxy note 10+ 5g", "galaxy note 10.1", "galaxy note 10.1 2014", "galaxy note 20", "galaxy note 20 5g", "galaxy note 20 ultra", "galaxy note 20 ultra 5g", "galaxy note 3", "galaxy note 3 neo", "galaxy note 3 neo duos", "galaxy note 4", "galaxy note 4 duos", "galaxy note 5", "galaxy note 7", "galaxy note 8", "galaxy note 8.0", "galaxy note 9", "galaxy note edge", "galaxy note ii", "galaxy on5", "galaxy on5 (2016)", "galaxy on7", "galaxy on7 (2017)", "galaxy on7 prime (2018)", "galaxy pocket", "galaxy pocket 2", "galaxy pocket 2 duos", "galaxy pocket duos", "galaxy pocket neo", "galaxy pocket neo duos", "galaxy pocket plus", "galaxy s", "galaxy s advance", "galaxy s duos", "galaxy s duos 2", "galaxy s duos 3", "galaxy s ii", "galaxy s ii plus", "galaxy s ii skyrocket", "galaxy s ii tv", "galaxy s iii", "galaxy s iii alpha", "galaxy s iii mini", "galaxy s iii neo", "galaxy s iii neo plus", "galaxy s iii neo+", "galaxy s iii slim", "galaxy s10", "galaxy s10 5g", "galaxy s10 lite", "galaxy s10+", "galaxy s10e", "galaxy s20", "galaxy s20 5g", "galaxy s20 fe", "galaxy s20 fe 5g", "galaxy s20 ultra", "galaxy s20+", "galaxy s20+ 5g", "galaxy s21 5g", "galaxy s21 fe 5g", "galaxy s21 ultra 5g", "galaxy s21+ 5g", "galaxy s22 ultra 5g", "galaxy s4", "galaxy s4 active", "galaxy s4 mini", "galaxy s4 value edition", "galaxy s4 zoom", "galaxy s5", "galaxy s5 active", "galaxy s5 duos", "galaxy s5 mini", "galaxy s5 neo", "galaxy s5 plus", "galaxy s5 prime", "galaxy s5 sport", "galaxy s6", "galaxy s6 active", "galaxy s6 edge", "galaxy s6 edge plus", "galaxy s7", "galaxy s7 active", "galaxy s7 edge", "galaxy s8", "galaxy s8 active", "galaxy s8+", "galaxy s9", "galaxy s9+", "galaxy star", "galaxy star 2", "galaxy star advance", "galaxy star pro", "galaxy star trios", "galaxy tab 10.1", "galaxy tab 2 10.1", "galaxy tab 2 7.0", "galaxy tab 3 10.1", "galaxy tab 3 7.0", "galaxy tab 3 8.0", "galaxy tab 3 lite", "galaxy tab 3 v", "galaxy tab 4 10.1", "galaxy tab 4 7.0", "galaxy tab 4 8.0", "galaxy tab a", "galaxy tab a 10.1 (2016)", "galaxy tab a 10.1 (2019)", "galaxy tab a 10.5", "galaxy tab a 7.0 (2016)", "galaxy tab a 8.0", "galaxy tab a 9.7", "galaxy tab a7 10.4 (2020)", "galaxy tab a7 lite", "galaxy tab e 8.0", "galaxy tab e 9.6", "galaxy tab pro 10.1", "galaxy tab s 10.5", "galaxy tab s2 8.0", "galaxy tab s2 9.7", "galaxy tab s6 lite", "galaxy table a 8 (2019)", "galaxy trend", "galaxy trend lite", "galaxy trend lite 2", "galaxy trend plus", "galaxy v", "galaxy v plus", "galaxy w", "galaxy win", "galaxy win 2 duos tv", "galaxy win duos", "galaxy xcover 3", "galaxy xcover 4", "galaxy y", "galaxy y duos", "galaxy y plus", "galaxy y pro", "galaxy y tv", "galaxy young", "galaxy young 2", "galaxy young 2 duos", "galaxy young plus tv", "galaxy z flip3 5g", "galaxy z fold3 5g", "gionee", "google", "gr3", "gr5", "gr5 2017", "honor 10", "honor 20", "honor 20 lite", "honor 3c", "honor 4a", "honor 4c", "honor 4x", "honor 5c", "honor 5x", "honor 6x", "honor 7a", "honor 7c", "honor 7s", "honor 7x", "honor 8", "honor 8a", "honor 8c", "honor 8s", "honor 8x", "honor 9", "honor 9 lite", "honor 9i", "honor bee", "honor holly", "hornor 10 lite", "hornor 8x", "hot 10", "hot 10 lite", "hot 10 play", "hot 10i", "hot 10s", "hot 2", "hot 4", "hot 4 lite", "hot 4 pro", "hot 5", "hot 5 lite", "hot 6", "hot 7", "hot 8", "hot 8 lite", "hot 9", "hot 9 play", "hot note", "htc", "huawei", "ilium x210", "ilium x520", "infinix", "iris 700", "iris 820", "iris fuel 50", "it1408", "it1409", "it1508", "itel", "jerry", "joy", "joy 3", "k10", "k10 (2017)", "k12+", "k20", "k20 plus", "k22", "k3 note", "k30", "k31", "k4", "k4 (2017)", "k40(k12+)", "k40s", "k41s", "k5", "k5 note", "k50s", "k51", "k51s", "k6 note", "k6 power", "k61", "k7", "k8", "k8 (2017)", "k8 note", "k8 plus", "kindle fire", "kindle fire hd 7 (2012)", "kindle fire hd 7 (2013)", "kindle fire hd 8.9", "kindle fire hdx 7", "kindle fire hdx 8.9", "l bello", "l fino", "l prime dual", "l20", "l50", "l70", "lanix", "lava", "lenny 2", "lenny 3", "lenovo", "leon", "lg", "lg k42", "magna", "mate 10", "mate 10 lite", "mate 10 pro", "mate 20", "mate 20 lite", "mate 20 pro", "mate 30 5g", "mate 8", "mate 9", "maven 3", "max xl", "mediapad t1 7.0", "mediapad t3 10", "mediapad t3 7", "mediapad t5", "mi 10t 5g", "mi 10t lite 5g", "mi 10t pro", "mi 11 lite", "mi 11 lite 5g", "mi 4i", "mi 5", "mi 8", "mi 8 lite", "mi 9", "mi 9 lite", "mi 9t", "mi 9t pro", "mi a1", "mi a2", "mi a2 lite", "mi a3", "mi max", "mi max 2", "mi note 10 lite", "micromax", "moto c", "moto c plus", "moto e", "moto e (2016)", "moto e (2020)", "moto e (2nd gen)", "moto e (4th gen)", "moto e (4th gen) plus", "moto e (5th gen)", "moto e (5th gen) plus", "moto e20", "moto e5 cruise", "moto e5 play", "moto e6", "moto e6 play", "moto e6 plus", "moto e6i", "moto e6s (2020)", "moto e7", "moto e7 plus", "moto e7 power", "moto e7i power", "moto g", "moto g (2nd gen)", "moto g (3rd gen)", "moto g (4th gen)", "moto g 2nd gen", "moto g 2nd generation", "moto g 4g", "moto g dtv", "moto g forte", "moto g play", "moto g play (2021)", "moto g power (2021)", "moto g stylus", "moto g stylus 5g", "moto g10", "moto g2", "moto g20", "moto g3", "moto g30", "moto g5", "moto g5 plus", "moto g5s", "moto g5s plus", "moto g6", "moto g6 play", "moto g6 plus", "moto g60", "moto g7", "moto g7 play", "moto g7 plus", "moto g7 power", "moto g8", "moto g8 play", "moto g8 plus", "moto g8 power", "moto g8 power lite", "moto g9 play", "moto g9 plus", "moto g9 power", "moto x", "moto x (2nd gen)", "moto x play", "moto x pure", "moto x4", "moto z droid", "moto z play dual", "moto z2 force", "moto z2 play", "moto z4", "motorola", "neo 3", "neo 5", "neo 7", "neo 7s", "nexus 10", "nexus 5", "nexus 5x", "nexus 6", "nexus 6p", "nexus 7", "nexus 9", "nexus one", "nord 2 5g", "nord 5g", "nord ce 5g", "nord n10 5g", "nord n100", "nord n200 5g", "note 10", "note 2", "note 3 neo duos", "note 4", "note 7", "note 8", "note 8i", "nova 2i", "nova 3", "nova 3i", "nova 7i", "nova lite", "nova young", "nyx", "one", "one (e8)", "one (m7)", "one (m8)", "one action", "one e9+", "one fusion", "one fusion+", "one m9", "one m9+", "one macro", "one max", "one mini", "one mini 2", "one sv", "one touch pixi 3", "one touch pixi 3 (3.5)", "one touch pixi 3 (4.5)", "one touch pixi 4 (4)", "one touch pixi 4 (5)", "one touch pixi 4 (5.0)", "one touch pixi 4 (6)", "one touch pop 3 (5)", "one touch pop 3 (5.5)", "one touch pop c1", "one touch pop c3", "one touch pop c5", "one touch pop c7", "one vision", "one x", "one x+", "one x9", "one xl", "oneplus", "oneplus one", "oppo", "oppo a5 (2020)", "oppo a72", "oppo a9 (2020)", "optimus f60", "optimus l1 ii", "optimus l3", "optimus l3 ii", "optimus l4 ii", "optimus l5", "optimus l5 dual", "optimus l5 ii", "optimus l5 ii dual", "optimus l7", "optimus l7 ii", "optimus l7 ii dual", "optimus l70", "optimus l9", "optimus l9 ii", "optimus l90", "p smart", "p smart 2019", "p smart 2021", "p smart plus", "p smart z", "p10", "p10 lite", "p15", "p20", "p20 lite", "p20 pro", "p30", "p30 lite", "p30 pro", "p33", "p36", "p37", "p40 lite", "p5l", "p5w", "p8", "p8 lite", "p9", "p9 lite", "phoenix 3", "pixel", "pixel 2", "pixel 2 xl", "pixel 3", "pixel 3 xl", "pixel 3a", "pixel 4a", "pixel 5", "pixel 6", "pixel 6 pro", "pixel xl", "plume p6 pro", "pocket neo", "poco c3", "poco f3", "poco m2", "poco m2 pro", "poco m3", "poco m3 pro 5g", "poco x2", "poco x3", "poco x3 nfc", "poco x3 pro", "pop 1", "pop 2 f", "pop 2 plus", "pop 2 power", "pop 3", "pop 4", "pop 5", "pouvoir 2", "pouvoir 3 air", "pouvoir 4", "pova", "premier pro", "q10", "q6", "q60 (k12 prime)", "r9s", "razr", "razr d1", "razr d3", "razr hd", "razr i", "realme c11", "rebel 4", "redmi 10", "redmi 10 prime", "redmi 1s", "redmi 2", "redmi 3", "redmi 3s", "redmi 4", "redmi 4a", "redmi 4x", "redmi 5", "redmi 5 plus", "redmi 5a", "redmi 6", "redmi 6 pro", "redmi 6a", "redmi 7", "redmi 7a", "redmi 8", "redmi 8a", "redmi 9", "redmi 9 power", "redmi 9a", "redmi 9at", "redmi 9c", "redmi 9c nfc", "redmi 9i", "redmi 9t", "redmi go", "redmi note", "redmi note 10", "redmi note 10 5g", "redmi note 10 pro", "redmi note 10 pro max", "redmi note 10s", "redmi note 11", "redmi note 2", "redmi note 3", "redmi note 4", "redmi note 4g", "redmi note 4x", "redmi note 5", "redmi note 5 pro", "redmi note 5a", "redmi note 6 pro", "redmi note 7", "redmi note 7 pro", "redmi note 7s", "redmi note 8", "redmi note 8 2021", "redmi note 8 pro", "redmi note 8t", "redmi note 9", "redmi note 9 pro", "redmi note 9 pro max", "redmi note 9s", "redmi s2", "redmi y1", "redmi y1 lite", "redmi y3", "reno 3", "reno 4", "reno 4f", "reno2 f", "reno2 z", "reno5 4g", "reno5 5g", "reno5 lite", "reno6", "reno6 5g", "reno6 z", "rocstar", "rog phone 2", "s1", "s1 pro", "s11", "s15", "s16", "s4", "s4z", "samsung", "series iii l70", "sharp", "smart", "smart 2", "smart 4", "smart 4 plus", "smart 5", "smart hd 2021", "smart kicka", "smart max 4.0 plus", "smart mini", "smart3 plus", "smartfren", "sony", "sony_ericsson", "spark 2", "spark 3", "spark 4", "spark 4 air", "spark 4 lite", "spark 5", "spark 5 air", "spark 5 pro", "spark 6", "spark 6 air", "spark 6 go", "spark 7", "spark 7 pro", "spark 7p", "spark 7t", "spark 8", "spark go 2020", "spark k7", "spirit", "spree", "stylo 2", "stylo 2 plus", "stylo 3", "stylo 3 plus", "stylo 4", "stylo 5", "stylo 6", "stylus 3", "sunny 2 plus", "sunny 3", "tab 2 a7-30", "tab3 7", "tecno", "tecno pop 2f", "tetra", "transformer pad", "tribute", "tribute 5", "true", "u ultra", "u10", "u5", "unite 2", "unite 3", "v10", "v11", "v11 pro", "v15", "v15 pro", "v17 pro", "v19", "v20", "v20 2021", "v20 se", "v21 5g", "v21e", "v21e 5g", "v3", "v30", "v5", "v5 plus", "v5s", "v7", "v7+", "v9", "v9 youth", "velvet", "vibe b", "vibe c", "vibe c2", "vibe k4 note", "vibe k5", "vibe k5 note", "vibe k5 plus", "vibe k6", "vibe p1m", "vision 1", "vision1 pro", "vivo", "vivo 1603", "vivo 1919", "vivo y90", "vodafone", "volt", "w2", "w3", "w4", "wiko", "wx3", "wx3 pro", "x charge", "x power", "x power 2", "x style", "x230", "xiaomi", "xperia arc s", "xperia c", "xperia c3 dual", "xperia c4", "xperia c4 dual", "xperia c5 ultra", "xperia c5 ultra dual", "xperia e", "xperia e dual", "xperia e1", "xperia e1 dual", "xperia e3", "xperia e3 dual", "xperia e4", "xperia e4g", "xperia e4g dual", "xperia e5", "xperia j", "xperia l", "xperia l1", "xperia m", "xperia m2", "xperia m2 aqua", "xperia m4 aqua", "xperia m5", "xperia m5 dual", "xperia mini", "xperia miro", "xperia p", "xperia s", "xperia sp", "xperia tipo", "xperia tipo dual", "xperia u", "xperia ul", "xperia x", "xperia x compact", "xperia x performance", "xperia xa", "xperia xa ultra", "xperia xa1", "xperia xa1 ultra", "xperia xz", "xperia xz premium", "xperia xz1", "xperia xz3", "xperia z", "xperia z ultra", "xperia z1", "xperia z1 compact", "xperia z1 f", "xperia z1s", "xperia z2", "xperia z2 tablet", "xperia z2a", "xperia z3", "xperia z3 compact", "xperia z3 dual", "xperia z3+", "xperia z3v", "xperia z5", "xperia z5 compact", "xperia z5 premium", "y11", "y12", "y12 series", "y12a", "y12g", "y12i", "y12s", "y12s 2021", "y15", "y15s", "y17", "y19", "y1s", "y2", "y20 2021", "y20 series", "y20a", "y20g", "y20i", "y20s [g]", "y21", "y21l", "y21s", "y3 (2017)", "y3 (2018)", "y3 ii", "y30", "y30i", "y31", "y33s", "y360", "y5", "y5 (2018)", "y5 (2019)", "y5 2017", "y5 ii", "y5 lite (2018)", "y5 prime (2018)", "y5 pro", "y50", "y51", "y51a", "y51l", "y53", "y53s", "y55l", "y55s", "y5p", "y6", "y6 (2017)", "y6 (2018)", "y6 2019", "y6 ii", "y6 prime (2018)", "y6 prime 2019", "y6 pro", "y6 pro (2017)", "y6 pro 2019", "y66", "y69", "y6p", "y7", "y7 (2018)", "y7 2019", "y7 prime", "y7 prime (2018)", "y7 prime 2019", "y7 pro 2019", "y71", "y72 5g", "y73", "y7a", "y7p", "y81", "y81i", "y83", "y85", "y8p", "y9 (2018)", "y9 (2019)", "y9 prime (2019)", "y90", "y91", "y91c", "y91i", "y93", "y95", "y9a", "z1 pro", "z10", "z60", "zenfone 2", "zenfone 2 deluxe", "zenfone 2 laser", "zenfone 3", "zenfone 3 max", "zenfone 4", "zenfone 4 max", "zenfone 4 selfie", "zenfone 5", "zenfone 6", "zenfone c", "zenfone go", "zenfone go 4.5", "zenfone go tv", "zenfone laser 2", "zenfone live", "zenfone live (l1)", "zenfone max", "zenfone max m1", "zenfone max pro (m2)", "zenfone max pro m1", "zenfone selfie", "zmax pro", "zone", "zte" ];

    $('.setup-group input[type="checkbox"]').click((ev) => {
        const el = $($(ev.target).parent());
        if(el.hasClass('setup-group-disabled')) {
            el.removeClass('setup-group-disabled');
        } else {
            el.addClass('setup-group-disabled');
        }
    });

    $('#add-country-button').click((ev) => {
        const el = $($(ev.target)).parent();
        const countryId = el.children().length;
        el.append(`
            <div class="country-entry" id="country-entry-${countryId}">
                <p><b>Country Entry ${countryId}</b></p>
                <p>Country code: <input id="code" type="text" /> (fill Alpha-2 code list <a target="_blank" href="https://www.iban.com/country-codes">here</a>)</p>
                <p>Multiplier:
                    <input type="text" readonly id="multiplier" class="slider-value" value="1"/>
                    <div class="country-range" id="country-entry-${countryId}-range"></div>
                </p>
            </div>
        `);
        $(`#country-entry-${countryId}-range`).slider({
            range: false,
            min: 0.09,
            max: 1.0,
            step: .01,
            values: [1.0],
            slide: function (event, ui) {
                $(`#country-entry-${countryId} .slider-value`).val(ui.values[0]);
            }
        });
    });

    $('#add-device-button').click((ev) => {
        const el = $($(ev.target)).parent();
        const deviceId = el.children().length;
        el.append(`
            <div class="device-entry" id="device-entry-${deviceId}">
                <p><b>Device Entry ${deviceId}</b></p>
                <p>Device name: <input class="name" id="device-entry-${deviceId}-name" /></p>
                <p>Multiplier:
                    <input type="text" readonly id="multiplier" class="slider-value" value="1"/>
                    <div class="device-range" id="device-entry-${deviceId}-range"></div>
                </p>
            </div>
        `);
        $(`#device-entry-${deviceId}-name`).autocomplete({ source: availableDevices });
        $(`#device-entry-${deviceId}-range`).slider({
            range: false,
            min: 0.09,
            max: 1.0,
            step: .01,
            values: [1.0],
            slide: function (event, ui) {
                $(`#device-entry-${deviceId} .slider-value`).val(ui.values[0]);
            }
        });
    });

    $('#submit-button').click(function () {
        $('#alert-text-box').hide();

        let adSetId = $('#ad-set-id-input').val().trim();
        let accessToken = $('#access-token-input').val().trim();

        let deviceChecked = $('#device-checkbox').is(':checked');
        let androidBidMod = $('#android-range').slider("values", 0);
        let iOSBidMod = $('#ios-range').slider("values", 0);
        let osDefaultBidMod = $('#os-default-range').slider("values", 0);

        let genderChecked = $('#gender-checkbox').is(':checked');
        let maleBidMod = $('#gender-male-range').slider("values", 0);
        let femaleBidMod = $('#gender-female-range').slider("values", 0);
        let genderDefaultBidMod = $('#gender-default-range').slider("values", 0);

        let ageChecked = $('#age-checkbox').is(':checked');
        let ageOneBidMod = $('#age-one-range').slider("values", 0);
        let ageTwoBidMod = $('#age-two-range').slider("values", 0);
        let ageDefaultBidMod = $('#age-default-range').slider("values", 0);

        let countryChecked = $('#country-checkbox').is(':checked');

        let userDeviceChecked = $('#user-device-checkbox').is(':checked');

        if (adSetId === '' || accessToken === '') {
            sendAlert('Please complete all fields', true);
            return;
        }
        if (!/^\d+$/.test(adSetId)) {
            sendAlert('Ad Set ID must be numeric', true);
            return;
        }

        let data = {
            'access_token': accessToken,
            'bid_adjustments': {
                'user_groups': {}
            }
        };
        if (deviceChecked) {
            data['bid_adjustments']['user_groups']['user_os'] = {
                "Android": androidBidMod,
                        "iOS": iOSBidMod,
                        "default": osDefaultBidMod
            };
        }
        if (genderChecked) {
            data['bid_adjustments']['user_groups']['gender'] = {
                "male": maleBidMod,
                        "female": femaleBidMod,
                        "default": genderDefaultBidMod
            };
        }
        if (ageChecked) {
            let ageOne = $('#age-one-start').val() + '-' + $('#age-one-end').val();
            let ageTwo = $('#age-two-start').val() + '-' + $('#age-two-end').val();
            let ageGroup = {};
            ageGroup[ageOne] = ageOneBidMod;
            ageGroup[ageTwo] = ageTwoBidMod;
            ageGroup["default"] = ageDefaultBidMod;
            data['bid_adjustments']['user_groups']['age'] = ageGroup;
        }
        if (countryChecked) {
            let countries = {};
            $('.country-entry').each((index, countryEl) => {
                const code = $(countryEl).find('#code').val().toUpperCase();
                const value = parseFloat($(countryEl).find('#multiplier').val());
                countries[code] = value;
            });
            data['bid_adjustments']['user_groups']['home_location'] = {
                "countries": countries,
            };
        }
        if (userDeviceChecked) {
            let devices = { 'default': 1.0 };
            $('.device-entry').each((index, deviceEl) => {
                const name = $(deviceEl).find('.name').val().trim();
                const value = parseFloat($(deviceEl).find('#multiplier').val());
                devices[name] = value;
            });
            data['bid_adjustments']['user_groups']['user_device'] = devices;
        }
        console.log('data is', data);

        var xhr = $.ajax({
            url: "https://graph.facebook.com/v13.0/" + adSetId,
            type: "POST",
            data: data,
            success: function (res) {
                console.log(res);
                fbq('track', 'BidModApplied');
                sendAlert('Success!', false);
            },
            error: function (res) {
                let errorText = res.responseJSON.error.message + ' fb_traceid: ' + res.responseJSON.error.fbtrace_id;
                fbq('track', 'LALFailure');
                sendAlert(errorText, true);
            }
        });

        console.log(xhr);
    });

    function sendAlert(text, isError) {
        let $alert = $('#alert-text-box');
        if (isError) {
            $alert.removeClass('alert-success');
            $alert.addClass('alert-danger');
        } else {
            $alert.removeClass('alert-danger');
            $alert.addClass('alert-success');
        }
        $('#alert-text').text(text);
        $alert.show();
    }

</script>
</body>
</html>
